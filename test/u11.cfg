# Unit test configuration file for MessageLogger service: intervals
# testing overall defaults regarding intervals
#   overall defaults for all destinations, for unnamed categories                     -- u11_overall_unnamed
#   overall defaults for all destinations, specific category                          -- u11_overall_specific
# testing intervals
#   default interval for a destination superceding overall default                       -- u11_supercede_specific   
#   default interval for a destination not superceding specific category overall default -- u11_non_supercede_common
#   interval for specific category superceding both defaults                             -- u11_specific
# In the course of this, these cases also test intervals and limits interacting with each other

process TEST = 
{
  service = MessageLogger 
  {
    
    untracked
    vstring destinations = { "u11_overall_unnamed.mlog"
    			   , "u11_overall_specific.mlog"
    			   , "u11_supercede_specific.mlog"
    			   , "u11_non_supercede_common.mlog"
   			   , "u11_specific.mlog"
			   }

    untracked vstring categories = { "preEventProcessing"
    				   , "int4bydefault"
    				   , "int7bycommondefault"
    				   , "int25bydefaults"
    				   , "expect_overall_unnamed"
    				   , "expect_overall_specific"
    				   , "expect_supercede_specific"
    				   , "expect_non_supercede_common_specific"
    				   , "expect_specific"
				   , "FwkReport"
				   }

    untracked
    PSet default = {  
			untracked PSet FwkReport              		    = { untracked int32 limit = 0 }
			untracked PSet expect_overall_unnamed               = { untracked int32 limit = 0 }
			untracked PSet expect_overall_specific              = { untracked int32 limit = 0 }
			untracked PSet expect_supercede_specific            = { untracked int32 limit = 0 }
			untracked PSet expect_non_supercede_common_specific = { untracked int32 limit = 0 }
			untracked PSet expect_specific                      = { untracked int32 limit = 0 }
    			untracked int32 interval = 5  
			untracked PSet int7bycommondefault  = { untracked int32 interval = 7  
								untracked int32 limit = -1  }
			untracked PSet int25bydefaults      = { untracked int32 interval = 25 
								untracked int32 limit = -1  }
			untracked bool noTimeStamps = true  
	           }

   untracked
   PSet u11_overall_unnamed.mlog = {  
			untracked PSet expect_overall_unnamed = { untracked int32 limit = -1 
								  untracked int32 interval = 1 }
			untracked PSet int4bydefault          = { untracked int32 limit = 0 }
			untracked PSet int7bycommondefault    = { untracked int32 limit = 0}
			untracked PSet int25bydefaults        = { untracked int32 limit = 0}
	           }


   untracked
   PSet u11_overall_specific.mlog = {  
			untracked PSet expect_overall_specific = { untracked int32 limit = -1
								   untracked int32 interval = 1 }
			untracked PSet default                = { untracked int32 limit = 0}
			untracked PSet int4bydefault          = { untracked int32 limit = 0 }
			untracked PSet int25bydefaults        = { untracked int32 limit = 0}
	           }
		   
   untracked
   PSet u11_supercede_specific.mlog = {  
			untracked PSet expect_supercede_specific = { untracked int32 limit = -1 
								     untracked int32 interval = 1 }
			untracked PSet default                = { untracked int32 limit = 0}
			untracked PSet int7bycommondefault    = { untracked int32 limit = 0 }
			untracked PSet int25bydefaults        = { untracked int32 limit = 0}
			untracked PSet int4bydefault          = { untracked int32 limit = -1
								  untracked int32 interval = 10 }
	           }
		   
   untracked
   PSet u11_non_supercede_common.mlog = {  
			untracked PSet expect_non_supercede_common_specific = { untracked int32 limit = -1 
								                untracked int32 interval = 1 }
			untracked PSet int4bydefault          = { untracked int32 limit = 0 }
			untracked PSet int25bydefaults        = { untracked int32 limit = 0}
			untracked PSet default                = { untracked int32 interval = 18 
								  untracked int32 limit = 3 }
	           }
		   
   untracked
   PSet u11_specific.mlog = {  
			untracked PSet expect_specific =     { untracked int32 limit = -1 
						               untracked int32 interval = 1 }
			untracked PSet default =             { untracked int32 interval = 30 }
			untracked PSet int4bydefault       = { untracked int32 limit = 0 }
			untracked PSet int7bycommondefault = { untracked int32 limit = 0 }
			untracked PSet int25bydefaults =     { untracked int32 interval = 12 }
			untracked bool noTimeStamps = true  
	           }
		   			    
  }
  
  path p = { sendSomeMessages }

  module sendSomeMessages = UnitTestClient_F { }

  source = EmptySource {untracked int32 maxEvents = 1}
}
