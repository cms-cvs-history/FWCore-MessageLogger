# Configuration file for MessageLogger service

process TEST = {

  service = MessageLogger {
    vstring destinations = { "detailedInfo.txt"
			   , "critical.txt"
#			   , "cout"
#			   , "cerr"
			   }
    vstring fwkJobReports = { "anotherfile.txt" }
    vstring messageIDs = { "unimportant"
			 , "trkwarning"
                         }
    PSet default = { int32 limit    = 100
                     int32 timespan =  60
		   }

    vstring categories = { "postBeginJob" }

    PSet anotherfile.txt = { PSet postBeginJob {int32 limit = 0} }
    
    PSet critical.txt = { string threshold = "ERROR" }

    PSet detailedInfo.txt = { string threshold = "DEBUG"
			      PSet INFO = { int32 timespan = 1000 }
			      PSet default = { int32 limit    =  10
					       int32 timespan = 600
					     }
			      PSet trkwarning =  { int32 limit    = 100
			                           int32 timespan =  30
						 }
			      PSet unimportant = { int32 limit = 5 }
                            }
    PSet cerr     = { string threshold = "WARNING" }
    vstring debugModules = { "sendSomeMessages" }
  }

  path p = { print,sendSomeMessages }

  module print = AsciiOutputModule { }
  module sendSomeMessages = MessageLoggerClient { }
  module print2 = AsciiOutputModule { }

  source = EmptySource {untracked int32 maxEvents = 2}
}
